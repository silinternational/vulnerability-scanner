
/**
 * A list of End-Of-Life (EOL) dates, formatted as yyyy-mm-dd strings, for the
 * known major NodeJS versions.
 *
 * See <https://nodejs.org/en/about/releases/> 
 *
 * @type {Object}
 */
const eolDatesByVersion = {
  'v15': '2021-06-01',
  'v14': '2023-04-30',
  'v12': '2022-04-30',
  'v10': '2021-04-30',
}

/**
 * Indicate whether the specified version has already reached End-Of-Life (EOL).
 *
 * @param {string} nodeJsVersion -- Example: v14
 * @param {string} currentDate -- The current date, as a yyyy-mm-dd string.
 * @returns {boolean|undefined}
 */
const isVersionEOL = (nodeJsVersion, currentDate) => {
  const eolDate = eolDatesByVersion[nodeJsVersion]
  if (!eolDate) {
    return undefined
  }
  return currentDate > eolDate
}

module.exports = {
  isVersionEOL
}
