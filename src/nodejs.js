
/**
 * A list of End-Of-Life (EOL) dates, formatted as yyyy-mm-dd strings, for the
 * known major NodeJS versions.
 *
 * See <https://nodejs.org/en/about/releases/> 
 *
 * @type {Object}
 */
const eolDatesByVersion = {
  'v18': '2025-04-30',
  'v17': '2022-06-01',
  'v16': '2024-04-30',
  'v15': '2021-06-01',
  'v14': '2023-04-30',
  'v13': '2020-06-01',
  'v12': '2022-04-30',
  'v11': '2019-06-01',
  'v10': '2021-04-30',
  'v9': '2018-06-30',
  'v8': '2019-12-31',
  'v7': '2017-06-30',
  'v6': '2019-04-30',
  'v5': '2016-06-30',
  'v4': '2018-04-30',
  'v0.12': '2016-12-31',
  'v0.10': '2016-10-31',
}

/**
 * Indicate whether the specified version has already reached End-Of-Life (EOL).
 *
 * @param {string} nodeJsVersion -- Example: v14
 * @param {string} currentDate -- The current date, as a yyyy-mm-dd string.
 * @returns {boolean|undefined}
 */
const isVersionEOL = (nodeJsVersion, currentDate) => {
  const eolDate = eolDatesByVersion[nodeJsVersion]
  if (!eolDate) {
    return undefined
  }
  return currentDate > eolDate
}

module.exports = {
  isVersionEOL
}
