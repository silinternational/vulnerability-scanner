# Vulnerability Scanner

Scan your repos for vulnerabilities (such as dependencies with published security advisories)

## Dependencies

- NodeJS

## Running

### Locally

First, do this setup:

1. Copy `.env.dist` to `.env` and add appropriate values.
2. Install [node](https://nodejs.org/en/download/)
3. Run `npm install`

Next, use one of the following commands, depending on what you want to do:

#### Scan an Entire GitHub Organization's Repos

Run this, replacing "ORGANIZATION" with the desired GitHub org. name:

`node cli/scan-github-org.js ORGANIZATION`

#### Scan a Specific GitHub Repo

Run this, replacing "REPO" with the desired GitHub repo, in the format
"repo-owner/repo-name":

`node cli/scan-github-repo.js REPO`

#### Scan an Entire Bitbucket Workspaces's Repos

Run this, replacing "WORKSPACE" with the desired Bitbucket workspace name:

`node cli/scan-bitbucket-workspace.js WORKSPACE`

#### Scan a Specific Bitbucket Repo

Run this, replacing "REPO" with the desired Bitbucket repo, in the format
"repo-owner/repo-name":

`node cli/scan-bitbucket-repo.js REPO`

#### Scan an Entire GitHub Organization and Bitbucket Workspace

Run this, replacing "ORGANIZATION" with the desired GitHub org. name and
"WORKSPACE" with the desired Bitbucket workspace name:

`node cli/scan-gh-bb.js ORGANIZATION WORKSPACE`

### NPM

This library is also published as an npm package for use in other
JavaScript/Node applications:  
<https://www.npmjs.com/package/@silintl/vulnerability-scanner>

### AWS Lambda

To run this on AWS Lambda, see  
<https://github.com/silinternational/serverless-vulnerability-scanner>

## Backwards Compatibility

This repo uses semver, and its public interface (in order to determine what
changes would break backwards-compatibility) is defined as the functions
exported by `./index.js`. 
