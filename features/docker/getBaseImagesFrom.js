const { Given, When, Then } = require('@cucumber/cucumber')
const assert = require('assert')
const docker = require('../../src/docker')

let dockerfileContents = ''
let result

Given('a Dockerfile with the following contents:', function (docString) {
  dockerfileContents = docString
})

When('I get the base images from that Dockerfile', function () {
  result = docker.getBaseImagesFrom(dockerfileContents)
})

Then('the result will be the following:', function (docString) {
  assert.deepStrictEqual(
    docString.split('\n'),
    result
  )
})
